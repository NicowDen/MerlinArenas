{"ast":null,"code":"import _defineProperty from\"/Users/nicolasgrenier/Documents/Code/fighting_RPG/node_modules/@babel/runtime/helpers/esm/defineProperty.js\";import _objectSpread from\"/Users/nicolasgrenier/Documents/Code/fighting_RPG/node_modules/@babel/runtime/helpers/esm/objectSpread2.js\";var INITIAL_STATE={player1:{pseudo:\"\",playerClass:{className:\"\",hp:null,atk:null,int:null,spd:null,agi:null,armor:null,color:\"\",icon:\"\",potions:null,onDef:false,ultimUp:true}},player2:{pseudo:\"\",playerClass:{className:\"\",hp:null,atk:null,int:null,spd:null,agi:null,armor:null,color:\"\",icon:\"\",potions:null,onDef:false,ultimUp:true}}};var playersReducer=function playersReducer(){var state=arguments.length>0&&arguments[0]!==undefined?arguments[0]:INITIAL_STATE;var action=arguments.length>1?arguments[1]:undefined;switch(action.type){case\"PLAYER_PSEUDO\":{return _objectSpread(_objectSpread({},state),{},_defineProperty({},action.payload.player,_objectSpread(_objectSpread({},state[action.payload.player]),{},{pseudo:action.payload.pseudo})));}case\"UPDATE_PLAYER_CLASS\":{return _objectSpread(_objectSpread({},state),{},_defineProperty({},action.payload.player,_objectSpread(_objectSpread({},state[action.payload.player]),{},{playerClass:action.payload.playerClass})));}case\"PLAYER_TAKE_DMG\":{var _action$payload=action.payload,player=_action$payload.player,hitValue=_action$payload.hitValue;var playerData=state[player];if(playerData&&playerData.playerClass&&playerData.playerClass.hp){var newHP=playerData.playerClass.hp-hitValue;return _objectSpread(_objectSpread({},state),{},_defineProperty({},player,_objectSpread(_objectSpread({},state[player]),{},{playerClass:_objectSpread(_objectSpread({},state[player].playerClass),{},{hp:newHP})})));}}case\"PLAYER_DEFENSE_UP\":{return _objectSpread(_objectSpread({},state),{},_defineProperty({},action.payload.player,_objectSpread(_objectSpread({},state[action.payload.player]),{},{playerClass:_objectSpread(_objectSpread({},state[action.payload.player].playerClass),{},{onDef:true,agi:state[action.payload.player].playerClass.agi+3})})));}case\"PLAYER_DEFENSE_DOWN\":{return _objectSpread(_objectSpread({},state),{},_defineProperty({},action.payload.player,_objectSpread(_objectSpread({},state[action.payload.player]),{},{playerClass:_objectSpread(_objectSpread({},state[action.payload.player].playerClass),{},{onDef:false,agi:state[action.payload.player].playerClass.agi-3})})));}case\"PLAYER_ULTIM_DOWN\":{return _objectSpread(_objectSpread({},state),{},_defineProperty({},action.payload.player,_objectSpread(_objectSpread({},state[action.payload.player]),{},{playerClass:_objectSpread(_objectSpread({},state[action.payload.player].playerClass),{},{ultimUp:false})})));}case\"PLAYER_POTION_MODIFICATION\":{var _objectSpread8;var _action$payload2=action.payload,attacker=_action$payload2.attacker,defender=_action$payload2.defender;var attackerData=state[attacker];var newAttackerPotions=attackerData.playerClass.potions+1;var defenderData=state[defender];var newDefenderPotions=Math.max(0,defenderData.playerClass.potions-1);return _objectSpread(_objectSpread({},state),{},(_objectSpread8={},_defineProperty(_objectSpread8,attacker,_objectSpread(_objectSpread({},state[attacker]),{},{playerClass:_objectSpread(_objectSpread({},state[attacker].playerClass),{},{potions:newAttackerPotions})})),_defineProperty(_objectSpread8,defender,_objectSpread(_objectSpread({},state[defender]),{},{playerClass:_objectSpread(_objectSpread({},state[defender].playerClass),{},{potions:newDefenderPotions})})),_objectSpread8));}case\"PLAYER_POTION_HEAL\":{var _player=action.payload.player;var _playerData=state[_player];var minHealPercentage=10;var maxHealPercentage=20;var baseHP=300;// MAXHP\nif(_playerData&&_playerData.playerClass&&_playerData.playerClass.hp&&_playerData.playerClass.potions>0){var minHeal=minHealPercentage/100*baseHP;var maxHeal=maxHealPercentage/100*baseHP;var randomHeal=Math.floor(Math.random()*(maxHeal-minHeal+1)+minHeal);var _newHP=Math.min(baseHP,_playerData.playerClass.hp+randomHeal);var newPotions=_playerData.playerClass.potions>0?_playerData.playerClass.potions-1:_playerData.playerClass.potions;return _objectSpread(_objectSpread({},state),{},_defineProperty({},_player,_objectSpread(_objectSpread({},state[_player]),{},{playerClass:_objectSpread(_objectSpread({},state[_player].playerClass),{},{hp:_newHP,potions:newPotions})})));}else{return state;}}case\"RESET_PLAYERS_REDUCER\":{return INITIAL_STATE;}default:{return state;}}};export default playersReducer;","map":{"version":3,"names":["INITIAL_STATE","player1","pseudo","playerClass","className","hp","atk","int","spd","agi","armor","color","icon","potions","onDef","ultimUp","player2","playersReducer","state","action","type","payload","player","hitValue","playerData","newHP","attacker","defender","attackerData","newAttackerPotions","defenderData","newDefenderPotions","Math","max","minHealPercentage","maxHealPercentage","baseHP","minHeal","maxHeal","randomHeal","floor","random","min","newPotions"],"sources":["/Users/nicolasgrenier/Documents/Code/fighting_RPG/src/redux/reducers/players.js"],"sourcesContent":["const INITIAL_STATE = {\n  player1: {\n    pseudo: \"\",\n    playerClass: {\n      className: \"\",\n      hp: null,\n      atk: null,\n      int: null,\n      spd: null,\n      agi: null,\n      armor: null,\n      color: \"\",\n      icon: \"\",\n      potions: null,\n      onDef: false,\n      ultimUp: true,\n    },\n  },\n  player2: {\n    pseudo: \"\",\n    playerClass: {\n      className: \"\",\n      hp: null,\n      atk: null,\n      int: null,\n      spd: null,\n      agi: null,\n      armor: null,\n      color: \"\",\n      icon: \"\",\n      potions: null,\n      onDef: false,\n      ultimUp: true,\n    },\n  },\n};\n\nconst playersReducer = (state = INITIAL_STATE, action) => {\n  switch (action.type) {\n    case \"PLAYER_PSEUDO\": {\n      return {\n        ...state,\n        [action.payload.player]: {\n          ...state[action.payload.player],\n          pseudo: action.payload.pseudo,\n        },\n      };\n    }\n\n    case \"UPDATE_PLAYER_CLASS\": {\n      return {\n        ...state,\n        [action.payload.player]: {\n          ...state[action.payload.player],\n          playerClass: action.payload.playerClass,\n        },\n      };\n    }\n\n    case \"PLAYER_TAKE_DMG\": {\n      const { player, hitValue } = action.payload;\n      const playerData = state[player];\n\n      if (playerData && playerData.playerClass && playerData.playerClass.hp) {\n        const newHP = playerData.playerClass.hp - hitValue;\n\n        return {\n          ...state,\n          [player]: {\n            ...state[player],\n            playerClass: {\n              ...state[player].playerClass,\n              hp: newHP,\n            },\n          },\n        };\n      }\n    }\n    case \"PLAYER_DEFENSE_UP\": {\n      return {\n        ...state,\n        [action.payload.player]: {\n          ...state[action.payload.player],\n          playerClass: {\n            ...state[action.payload.player].playerClass,\n            onDef: true,\n            agi: state[action.payload.player].playerClass.agi + 3,\n          },\n        },\n      };\n    }\n    case \"PLAYER_DEFENSE_DOWN\": {\n      return {\n        ...state,\n        [action.payload.player]: {\n          ...state[action.payload.player],\n          playerClass: {\n            ...state[action.payload.player].playerClass,\n            onDef: false,\n            agi: state[action.payload.player].playerClass.agi - 3,\n          },\n        },\n      };\n    }\n\n    case \"PLAYER_ULTIM_DOWN\": {\n      return {\n        ...state,\n        [action.payload.player]: {\n          ...state[action.payload.player],\n          playerClass: {\n            ...state[action.payload.player].playerClass,\n            ultimUp: false,\n          },\n        },\n      };\n    }\n\n    case \"PLAYER_POTION_MODIFICATION\": {\n      const { attacker, defender } = action.payload;\n      const attackerData = state[attacker];\n      const newAttackerPotions = attackerData.playerClass.potions + 1;\n      const defenderData = state[defender];\n      const newDefenderPotions = Math.max(\n        0,\n        defenderData.playerClass.potions - 1\n      );\n      return {\n        ...state,\n        [attacker]: {\n          ...state[attacker],\n          playerClass: {\n            ...state[attacker].playerClass,\n            potions: newAttackerPotions,\n          },\n        },\n        [defender]: {\n          ...state[defender],\n          playerClass: {\n            ...state[defender].playerClass,\n            potions: newDefenderPotions,\n          },\n        },\n      };\n    }\n\n    case \"PLAYER_POTION_HEAL\": {\n      const { player } = action.payload;\n      const playerData = state[player];\n      const minHealPercentage = 10;\n      const maxHealPercentage = 20;\n      const baseHP = 300; // MAXHP\n      if (\n        playerData &&\n        playerData.playerClass &&\n        playerData.playerClass.hp &&\n        playerData.playerClass.potions > 0\n      ) {\n        const minHeal = (minHealPercentage / 100) * baseHP;\n        const maxHeal = (maxHealPercentage / 100) * baseHP;\n        const randomHeal = Math.floor(\n          Math.random() * (maxHeal - minHeal + 1) + minHeal\n        );\n        const newHP = Math.min(baseHP, playerData.playerClass.hp + randomHeal);\n\n        const newPotions =\n          playerData.playerClass.potions > 0\n            ? playerData.playerClass.potions - 1\n            : playerData.playerClass.potions;\n\n        return {\n          ...state,\n          [player]: {\n            ...state[player],\n            playerClass: {\n              ...state[player].playerClass,\n              hp: newHP,\n              potions: newPotions,\n            },\n          },\n        };\n      } else {\n        return state;\n      }\n    }\n\n    case \"RESET_PLAYERS_REDUCER\": {\n      return INITIAL_STATE;\n    }\n\n    default: {\n      return state;\n    }\n  }\n};\n\nexport default playersReducer;\n"],"mappings":"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"},"metadata":{},"sourceType":"module","externalDependencies":[]}